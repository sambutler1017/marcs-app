<ik-loading-indicator *ngIf="!userData"></ik-loading-indicator>
<div *ngIf="userData">
  <ik-header
    [title]="
      userData.firstName + ' ' + userData.lastName + ' (' + userData.id + ')'
    "
    [backEnabled]="true"
  >
    <button
      class="btn btn-danger btn-xl btn-right"
      *featureAccess="[
        Application.MANAGER,
        Feature.MANAGER_DETAIL,
        Access.DELETE
      ]"
    >
      Delete Manager
    </button>
    <button
      class="btn btn-primary btn-xl btn-right"
      *featureAccess="[
        Application.MANAGER,
        Feature.MANAGER_DETAIL,
        Access.UPDATE
      ]"
      (click)="onMoveClick()"
    >
      Move Manager
    </button>
  </ik-header>
  <div class="leftColumn column-wide">
    <ik-card [padding]="false">
      <ik-card-header [title]="managerJson.detail.title">
        <ik-icon
          icon="edit"
          *featureAccess="[
            Application.MANAGER,
            Feature.MANAGER_DETAIL,
            Access.UPDATE
          ]"
          (click)="onEditClick()"
        ></ik-icon>
      </ik-card-header>
      <div class="left-column">
        <ik-card-info
          [header]="managerJson.detail.name"
          [text]="userData.firstName + ' ' + userData.lastName"
        ></ik-card-info>
        <ik-card-info
          [header]="managerJson.detail.email"
          [text]="userData.email ? userData.email : '-'"
        ></ik-card-info>
        <ik-card-info
          [header]="managerJson.detail.storeName"
          [text]="userData.storeName"
        ></ik-card-info>
        <ik-card-info
          [header]="managerJson.detail.hireDate"
          [text]="userData.hireDate | date: 'mediumDate'"
        ></ik-card-info>
      </div>
      <div class="right-column">
        <ik-card-info
          [header]="managerJson.detail.username"
          [text]="userData.username"
        ></ik-card-info>
        <ik-card-info
          [header]="managerJson.detail.role"
          [text]="WebRole[userData.webRole]"
        ></ik-card-info>
        <ik-card-info
          [header]="managerJson.detail.storeId"
          [text]="userData.storeId"
        ></ik-card-info>
        <ik-card-info
          [contentColor]="userData.appAccess ? 'text-success' : 'text-danger'"
          header="Application Access"
          [text]="
            userData.appAccess ? 'Has App Access' : 'Does not have App Access'
          "
        ></ik-card-info>
      </div>
    </ik-card>
  </div>
</div>
